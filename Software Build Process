-> Build Management 

        -> The term "build" may refer to the "process" by which 
            "source code" is converted into "binary code" (software artifact)

        -> In DevOps, the software build process is a foundational component of the 
            Continuous Integration and Continuous Delivery (CI/CD) pipeline, 
            serving as a critical automated step that transforms 
            source code into a deployable product.

                -> Artifact is Useable Software after build is done 

        -> Source Code - https://github.com/notepad-plus-plus/notepad-plus-plus/tags

                -> After Building, Artifact is Useable Software which is below 

        -> Binary Code - https://notepad-plus-plus.org/downloads/

-> Any Build implementation consists of following steps 

        -> Source Code Files 

            -> Source code is the list of human-readable instructions that a programmer writes

            -> Handled by Developer

        -> Metadata File 

            -> File that contains information about the project and 
                configuration details used to build the project. 
        

            -> Handled by Developer

        -> Binary Code (After Build is done)

            -> Build artifacts are files produced by a build

            -> Handled by Developer in his Laptop
            
            -> Handled by DevOps Engineer on Server for future Automation in CI-CD

        
    -> NOTE: Below Link Help's you understand, how developers initially learn how to perform builds 

        -> https://radixweb.com/blog/steps-to-build-react-project-with-create-react-app


============================
-> Three Tier App Architecture

        -> Most Popular Applications
            
            -> https://en.wikipedia.org/wiki/Programming_languages_used_in_most_popular_websites

        -> LMS Application Stack
            
            -> Database: POSTGRES
            -> Backend: NODEJS 
            -> Frontend: JavaScript (REACTJS)

    -> LMS Project - BUILD 
        
        -> As LMS App is multi tier, We need Following Rules(ports) in Security Group
            -> SSH - 22 - Login
            -> DATABASE TIER [ POSTGRES ] - 5432 - Storing Data
            -> APPLICATION TIER [ NODEJS ] - 8080 - Business Logics
            -> FRONTEND TIER [ REACTJS ] - 80 - Hosted On Web Server

    -> NOTE: LMS Application Build Requires, below hardware configuration

        -> AWS 
            
            -> â€œt2.medium instanceâ€ i.e 4 GB RAM - 2 CPUâ€™s on AWS, with 20 GB as Storage.  
                
        -> AZURE 
            
            -> B2S, i.e 4 GB RAM - 2 CPUâ€™s on AZURE, with 30 GB as Storage


=> Steps To Build LMS Application (From Development Team We Get KT)

        -> sudo ss -ntpl

        -> Setup Database 

            -> Goto https://www.postgresql.org/download/linux/ubuntu/

                sudo apt install curl ca-certificates
                sudo install -d /usr/share/postgresql-common/pgdg
                sudo curl -o /usr/share/postgresql-common/pgdg/apt.postgresql.org.asc --fail https://www.postgresql.org/media/keys/ACCC4CF8.asc
                . /etc/os-release
                sudo sh -c "echo 'deb [signed-by=/usr/share/postgresql-common/pgdg/apt.postgresql.org.asc] https://apt.postgresql.org/pub/repos/apt $VERSION_CODENAME-pgdg main' > /etc/apt/sources.list.d/pgdg.list"
                sudo apt update
                sudo apt install postgresql-18
        
        -> sudo ss -ntpl

        -> Every Database has connection properties, which includes
            -> Address Of Database
            -> Database Port
            -> Database Username
            -> Database Password

        -> Commands to set the password for postgres database
            -> sudo su - postgres
            -> psql
            -> \password

==>Setup Backend / App Layer For LMS 

            -> Create a new session for server using "ubuntu" server 

            -> Install Nodejs on your server using below Link 

                -> https://nodejs.org/en/download

                -> Select Linux & version 20 LTS 

                # Download and install nvm:
                curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash

                # in lieu of restarting the shell
                \. "$HOME/.nvm/nvm.sh"

                # Download and install Node.js:
                nvm install 20

                # Verify the Node.js version:
                node -v # Should print "v20.19.6".

                # Verify npm version:
                npm -v # Should print "10.8.2".

        -> NOTE: Verify Node Environment setup with below commands

-> node -v 
            -> npm -v

        -> Steps to Build Backend API 

            -> ls
            -> git clone -b dev https://github.com/joshisuyog4/lms-v1.git 
            -> ls 
            -> cd ~/lms-v1/api
            -> vi .env 

                MODE=dev
                PORT=8080
                DATABASE_URL=postgresql://postgres:db_password@localhost:5432/postgres

                -> NOTE: In .env file we would specify the database connection details.

                    -> grep .env -r
            
            -> Verify in postgres session 

                -> \dt 

            -> Database Schema 

                -> cat prisma/migrations/20221110085013_init/migration.sql
            
            -> Commands to setup Database tables 

                -> npm install 
                -> npx prisma generate && npx prisma db push
or
                ->npx prisma generate
                ->npx prisma db push
                        output should be like:
========
ğŸš€  Your database is now in sync with your Prisma schema. Done in 81ms

âœ” Generated Prisma Client (4.6.0 | library) to ./node_modules/@prisma/client in 63ms
========           
            -> Verify in postgres session - here table will be visilbe

                -> \dt 

            -> NOTE: Command to build application using "ubuntu" user

                -> ls build
                -> npm run build 
                -> ls build

            -> NOTE: Command to start application using "ubuntu" user   
                
-> Locally verify 
        
        -> curl http://localhost:8080/api
-> NOTE: If you get below message, backend deployment is success   
            
            {"message":"success","mode":"dev"}
 -> Verify with Browse - http://public-ip:8080/api


========================================================================
=> connecting backend, frontend and database.
        
        -> Setup Frontend.
      > Setup Frontend / Client Layer For LMS 

        -> In Our Repo, we have webapp directory which is frontend part of the application

        -> cd ~/lms-v1/webapp/

        -> vi .env 

            VITE_API_URL=http://public-ip:8080/api

        -> To build frontend

            -> npm install
            -> ls dist
            -> npm run build 
            -> ls dist

        -> To Host Frontend, we need web server 

            -> sudo ss -ntpl
            -> sudo apt -y install nginx
            -> sudo ss -ntpl
            -> ls /var/www/html/
            -> sudo rm -rf /var/www/html/*
            -> ls /var/www/html/
            -> sudo cp -r ~/lms-v1/webapp/dist/*  /var/www/html/
            -> ls /var/www/html/
        
        -> For Troubleshooting 

            -> sudo ss -ntpl
            -> sudo systemctl stop postgresql
            -> sudo ss -ntpl
            -> sudo systemctl start postgresql
            -> sudo ss -ntpl

            -> control + c 
            -> sudo ss -ntpl
            -> node index.js
            -> sudo ss -ntpl

            -> sudo ss -ntpl
            -> sudo systemctl stop nginx
            -> sudo ss -ntpl
            -> sudo systemctl start nginx
            -> sudo ss -ntpl


